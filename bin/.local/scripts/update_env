#!/bin/sh
set -e

echo ""
echo "Updating dotfiles"
git -C ~/Projects/Personal/dotfiles pull --rebase
echo ""
echo "Updating dotfiles submodules"
git -C ~/Projects/Personal/dotfiles submodule update --init --recursive --rebase

if [ "$DOTFILES_OS" = "Macos" ]; then
    echo ""
    echo "Updating homebrew"
    brew update && brew upgrade
fi

echo ""
echo "Update nvim Lazy"
NVIM_APPNAME=nvim nvim --headless "+Lazy! update" +qa
